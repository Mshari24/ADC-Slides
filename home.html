<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body class="home-body">
  <div class="home-root">
    <aside class="home-sidebar" aria-label="Main">
      <a class="sb-item" href="./account.html" title="Profile">
        <div class="sb-icon avatar">R</div>
        <div class="sb-label">Profile</div>
      </a>
      <a class="sb-item active" href="./home.html" title="Home">
        <div class="sb-icon">ğŸ </div>
        <div class="sb-label">Home</div>
      </a>
      <a class="sb-item" href="./notifications.html" title="Notifications">
        <div class="sb-icon">ğŸ””</div>
        <div class="sb-label">Notifications</div>
      </a>
      <a class="sb-item" href="./groups.html" title="Groups">
        <div class="sb-icon">ğŸ‘¥</div>
        <div class="sb-label">Groups</div>
      </a>
      <a class="sb-item" href="./projects.html" title="Projects">
        <div class="sb-icon">ğŸ“</div>
        <div class="sb-label">Projects</div>
      </a>
      <a class="sb-item" href="./teams.html" title="Microsoft Teams">
        <div class="sb-icon">ğŸ’¬</div>
        <div class="sb-label">Teams</div>
      </a>
      <a class="sb-item" href="https://outlook.office.com/mail/" target="_blank" rel="noopener noreferrer" title="Outlook">
        <div class="sb-icon">ğŸ“§</div>
        <div class="sb-label">Outlook</div>
      </a>
    </aside>

    <main class="home-main">
      <header class="home-top">
        <div class="top-spacer"></div>
        <h1 id="greeting" class="greeting">Good Morning!</h1>
        <div class="top-logo">
          <img src="./pic/aramco-digital.png" alt="Aramco Digital" />
        </div>
      </header>

      <section class="home-search">
        <div class="search-wrap" role="search">
          <input id="home-search" class="search-input" type="search" placeholder="Search Recent and Projectsâ€¦" aria-label="Search Recent and Projects" />
        </div>
      </section>

      <section class="home-middle">
        <div class="panel create">
          <div class="panel-head">
            <h2>Create</h2>
          </div>
          <div class="panel-grid four">
            <div class="card">Blank Presentation</div>
            <div class="card">AD</div>
            <div class="card">Import Slides</div>
            <div class="card">Import Theme</div>
          </div>
        </div>

        <div class="panel recent">
          <div class="panel-head">
            <h2>Recent</h2>
            <a href="#" class="show-all">Show all</a>
          </div>
          <div class="panel-grid four" id="recent-list">
            <div class="card" data-title="Quarterly Review">Quarterly Review</div>
            <div class="card" data-title="Team All-Hands">Team All-Hands</div>
            <div class="card" data-title="Product Roadmap">Product Roadmap</div>
            <div class="card" data-title="Client Proposal">Client Proposal</div>
          </div>
        </div>

        <div class="panel projects">
          <div class="panel-head">
            <h2>Projects</h2>
            <a href="#" class="show-all">Show all</a>
          </div>
          <div class="panel-grid four" id="projects-list">
            <div class="card" data-title="Neptune Migration">Neptune Migration</div>
            <div class="card" data-title="SaaS Analytics">SaaS Analytics</div>
            <div class="card" data-title="Slides Editor">Slides Editor</div>
            <div class="card" data-title="AI Assistant">AI Assistant</div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // Derive name from query string and set greeting; also set avatar initial
    (function () {
      const params = new URLSearchParams(location.search);
      const nameParam = params.get('name') || '';
      const now = new Date();
      const hour = now.getHours();
      const part = hour < 12 ? 'Morning' : hour < 18 ? 'Afternoon' : 'Evening';
      const name = nameParam.trim();
      const greeting = document.getElementById('greeting');
      greeting.textContent = `Good ${part}${name ? ', ' + name + '!' : '!'}`;

      const avatar = document.querySelector('.sb-icon.avatar');
      if (avatar) {
        const initial = name ? name[0].toUpperCase() : 'U';
        avatar.textContent = initial;
      }
      // Search across Recent and Projects
      const input = document.getElementById('home-search');
      const lists = [document.getElementById('recent-list'), document.getElementById('projects-list')];
      function applyFilter(q) {
        const query = (q || '').trim().toLowerCase();
        lists.forEach(list => {
          if (!list) return;
          list.querySelectorAll('.card').forEach(card => {
            const title = (card.getAttribute('data-title') || card.textContent || '').toLowerCase();
            card.style.display = query && !title.includes(query) ? 'none' : '';
          });
        });
      }
      input && input.addEventListener('input', (e) => applyFilter(e.target.value));
    })();
  </script>
</body>
</html>


